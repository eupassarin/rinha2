CREATE UNLOGGED TABLE IF NOT EXISTS CLIENTE (
    ID SERIAL PRIMARY KEY,
    LIMITE INT NOT NULL,
    SALDO INT DEFAULT 0
);

INSERT INTO CLIENTE (ID, LIMITE) VALUES
 (1, 1000*100),
 (2, 800*100),
 (3, 10000*100),
 (4, 100000*100),
 (5, 5000*100);

CREATE UNLOGGED TABLE IF NOT EXISTS TRANSACAO (
    ID SERIAL PRIMARY KEY,
    CLIENTE_ID INT NOT NULL,
    VALOR INT NOT NULL,
    TIPO CHAR(1) NOT NULL,
    DESCRICAO VARCHAR(10) NOT NULL,
    REALIZADA_EM TIMESTAMP DEFAULT NOW(),
   CONSTRAINT fk_clientes_transacoes_id FOREIGN KEY (CLIENTE_ID) REFERENCES CLIENTE(ID)
);
CREATE INDEX REALIZADA_EM_IDX ON TRANSACAO (REALIZADA_EM DESC) ;

